в 2011 году я описал временной секвенсор и связанные с ним лазерные лабораторные приборы, основанные на 16-разрядных микроконтроллерах и самодельной пользовательской клавиатуре/дисплее unit.@xcite с тех пор две новые разработки позволили использовать гораздо более мощный подход: доступность высокопроизводительных 32-разрядных микроконтроллеров в корпусах с низким количеством контактов, подходящих для ручная сборка и почти повсеместная доступность планшетов с сенсорными экранами высокого разрешения и открытыми платформами разработки. в этой статье описывается несколько новых конструкций приборов, предназначенных для исследований в области атомной физики и лазерной спектроскопии. в каждом из них используется 32-разрядный микроконтроллер в сочетании с usb-интерфейсом для Android-планшета, который служит интерактивным пользовательским интерфейсом и графическим дисплеем. эти инструменты подходят для изготовления студентами, имеющими некоторый опыт пайки небольших микросхем, и программируются с использованием стандартного кода c, который можно легко модифицировать. это обеспечивает как гибкость, так и возможности для обучения. приборы могут удовлетворить многие потребности типичной лаборатории оптических исследований: определение последовательности событий, генерация амплитуды и формы сигнала, точный контроль температуры, высоковольтное управление pzt для оптического выравнивания в микронном масштабе, управление током диодного лазера, синтез радиочастотных сигналов для драйверов модуляторов и специальное обнаружение фазочувствительной блокировки для частотной синхронизации лазеров и оптических резонаторов. 32-разрядные процессоры обладают достаточным объемом памяти и вычислительной мощности, чтобы обеспечить работу прибора с управлением прерываниями одновременно с использованием графического интерфейса пользователя в режиме реального времени. центральным принципом при разработке этих приборов было сделать их максимально простыми и автономными, но без ущерба для производительности. простота достигается за счет небольших размеров, что позволяет размещать контрольно-измерительные приборы совместно с оптическими устройствами, например, синтезатор сигналов произвольной формы может быть размещен непосредственно в диодной лазерной головке, или встроенный усилитель может поместиться в небольшой коробке вместе с детектором. как показано на рис. [ systemoverview ], каждый прибор основан на стандартном 32-разрядном микроконтроллере серии microchip pic32 и может управляться с помощью приложения для Android, предназначенного для 7-дюймового или 8-дюймового планшета. необычной особенностью является то, что интерфейс планшета полностью взаимозаменяем, используя одно приложение для взаимодействия с любым из разнообразного семейства приборов, как описано в разделе. [ подраздел : usb ]. кроме того, все приборы полностью функциональны, даже если внешний интерфейс удален. при изменении рабочих параметров значения сохраняются в программной памяти микроконтроллера, так что эти новые значения будут использоваться даже после отключения и повторного подключения питания. интерфейс usb также позволяет подключаться к внешнему ПК для обеспечения централизованного управления. (цветная онлайн) структурная схема прибора на базе микроконтроллера, взаимодействующего с планшетом Android через usb. приложение для планшета, microcontroller, загружает значения параметров и их диапазоны с прибора при каждом подключении интерфейсного кабеля usb. ] на данный момент разработано четыре печатные платы. одна из них, плата labint32, описанная в разделе [ sec : labint ], представляет собой лабораторный интерфейс общего назначения, специально разработанный для обеспечения универсальности. остальные оптимизированы для специальных целей, как описано в разделе [sec: specialpurpose]. печатные платы используют модульную компоновку, частично основанную на дочерних платах`, описанных в разделе. [подраздел : дочерние платы ]. они варьируются от простых интерфейсных схем с небольшим количеством компонентов до относительно сложной платы wvfm32, которая использует новые микросхемы генерации сигналов analog devices ad9102 или ad9106 для поддержки гибкого генератора сигналов произвольной формы с выходным напряжением и прямого цифрового синтезатора (dds). его размеры составляют 1,5 \"@xmath00.8\", что намного меньше, чем у любого аналогичного устройства, известного автору. более подробная информация об этих конструкциях, включая файлы макетов печатных плат и полный исходный код программного обеспечения, доступна на моей веб-странице в университете connecticut.@xcite при разработке нового инструментария я рассмотрел несколько подходов к проектированию. одним из очевидных методов является использование центральной шины данных, облегчающей межпроцессную связь и централизованное управление. помимо коммерческих систем, использующих labview и аналогичные продукты, было разработано несколько отличных самодельных систем такого типа, включая проект с открытым исходным кодом, поддержанный группами в Инсбруке и texas.@xcite этот подход лучше всего подходит для лабораторий, которые поддерживают стабильные долгосрочные экспериментальные конфигурации значительной сложности, такие как аппарат для конденсации бозе - Эйнштейна, который послужил мотивом для разработки в Инсбруке / Техасе. как уже упоминалось, используемый здесь подход совершенно иной, предназначенный в первую очередь для экспериментов меньшего масштаба или установок, которые быстро развиваются, где гибкая конфигурация важнее, чем обеспечение полного централизованного управления с одной консоли. цель состоит в том, чтобы большинство лабораторных приборов работали как автономные устройства, хотя для определения общей последовательности эксперимента, очевидно, необходимо несколько внешних сигналов синхронизации и управления. они могут поступать либо с центрального лабораторного компьютера, либо, для простоты настройки, с одной из описанных здесь плат, настроенных как секвенсор событий и генератор аналогового управления. этот подход согласуется с нашей собственной предыдущей работой и с недавними разработками других небольших лазерных систем. labs.@xcite после принятия решения о децентрализованных разработках с использованием микроконтроллеров остается по крайней мере три подхода: организованные платформы разработки, компактные платы разработки или прямое включение микросхем микроконтроллеров в пользовательские проекты. в настоящее время доступно множество платформ разработки, начиная от arduino и raspberry pi, ориентированных на любителей, и заканчивая более инженерными платформами. solutions.@xcite однако эти подходы были исключены, поскольку они увеличивают стоимость, размер и сложность инструмента. для простых аппаратно-ориентированных задач, требующих быстрого и повторяемого реагирования, предопределенная конфигурация аппаратного интерфейса и наличие операционной системы могут быть скорее помехой, чем подспорьем. изначально казалось привлекательным использовать компактную плату разработки для упрощения проектирования и конструирования. в моих первоначальных разработках использовалась простая и доступная плата разработки mini-32 от mikroelektronika,@xcite, которая сочетает в себе процессор microchip pic32mx534f064h с частотой 80 МГц, базовую схему поддержки и usb-разъем. эта плата была использована для создания генератора ramp и секвенсора событий, очень похожего по дизайну на более раннюю 16-разрядную версию.@xcite несмотря на успех, этот подход повлек за собой многочисленные неудобства: программа микроконтроллера и оперативная память слишком малы (64 Кб и 16 Кб), кристалл генератора не относится к термостабилизированному типу txco, интерфейс usb требует значительных модификаций для обеспечения работы в режиме хоста, а частота команд 80 МГц несколько снижена по обязательным состояниям ожидания и задержке прерывания. наконец, некоторые контакты микроконтроллера, которые необходимы для использования в исследовательских лабораториях, такие как асинхронный синхронизирующий вход t1ck, назначены mini-32 для других целей, что требует кропотливой резки и перепайки трасс. тесты секвенсора событий дали достаточно хорошие результаты: максимальная частота событий прерывания 1,5 МГц примерно в два раза выше, чем у 16-разрядной схемы, работающей на частоте 20 МГц, хотя типичная задержка прерывания в 400 нс не сильно отличается. тем не менее, стало очевидно, что затраты при использовании готовых плат разработки перевешивают преимущества. (цветная онлайн) фотография печатной платы labint32 размером 5`@xmath02.25\". он включает в себя дочернюю плату wvfm32 с необходимой схемой поддержки и двойной 16-разрядный ЦАП с одним выходом, подключенным к разъему sma на краю платы. ] вместо этого в описанных здесь конструкциях используются микросхемы серии microchip pic32mx250 с малым количеством контактов, которые непосредственно припаиваются к печатным платам, как видно на рис. [ labintphoto ]. эти микроконтроллеры, несмотря на то, что производитель позиционирует их как устройства базового товарного типа, имеют вдвое больший объем памяти, чем процессор mini-32, и могут работать на частоте 40 МГц без состояний ожидания.@xcite они оснащены программно переназначаемыми выводами, которые повышают гибкость взаимодействия, как описано в разделе. [ подраздел : модульный]. хотя снижение скорости на 40 МГц учитывается при определении последовательности событий, это не влияет на производительность ни одного из других описанных здесь инструментов, а отсутствие состояний ожидания при доступе к памяти частично компенсирует это. тактовая частота процессора и другие параметры синхронизации получены от миниатюрных кварцевых генераторов серии fox electronics fox924b с температурной компенсацией, которые являются небольшими, недорогими и имеют точность в пределах 2,5 частей на миллион. простота конструкции является основным фактором для схем, используемых в академической исследовательской лаборатории. чтобы облегчить это, там, где это возможно, используется легко монтируемый 28-контактный микроконтроллер pic32mx250f128b, а также 44-контактный вариант, когда требуется более широкое взаимодействие. базовая схема поддержки контроллера разработана таким образом, чтобы обеспечить возможность ручной пайки, как и другие схемы низкочастотного интерфейса. тем не менее, все печатные платы содержат по крайней мере несколько микросхем для поверхностного монтажа, которые легче монтировать с помощью методов пайки горячим воздухом. мы получили очень хорошие результаты, используя паяльную пасту и легкую станцию горячего воздуха.@xcite для радиочастотных схем метод горячего воздуха, к сожалению, является необходимостью, поскольку в современных радиочастотных чипах обычно используются компактные плоские корпуса, такие как qfn-32, с близко расположенными выводами, расположенными под чипом. конструкцию также можно упростить, установив на печатной плате полную маску для пайки, что значительно снижает вероятность случайного образования паяных мостиков между соседними выводами. эти маски доступны за умеренную дополнительную плату у большинства производителей печатных плат, и их дополнительные услуги обычно также включают печатные обозначения, которые могут использоваться совместноудобно пометить расположение компонентов. (цвет онлайн) типичный вид приложения для микроконтроллера на планшете Google nexus 7. когда параметр выбран в прокручиваемом списке в левом верхнем углу, его значение можно настроить либо с помощью всплывающей клавиатуры, либо с помощью двух ползунков. на полосчатой диаграмме желтым цветом показано выходное напряжение, вырабатываемое платой терморегулятора, а синим - отклонение температуры от заданного значения (25 единиц при xmath1 1 мк). ] как описывалось ранее, пользовательский интерфейс обычного планшета очень привлекателен, поскольку он предлагает быстрый, отзывчивый графический интерфейс с сенсорным экраном высокого разрешения, который не требует специального оборудования или конструкции. хотя радиочастотная связь с планшетом возможна с использованием протоколов Bluetooth или wi-fi, интерфейс usb является лучшим выбором для лабораторных приборов, поскольку он устраняет необходимость в дополнительных схемах и позволяет избежать распространения множества радиочастотных устройств, работающих в ограниченном пространстве. важен интерфейс, основанный на среде разработки с открытым исходным кодом, чтобы программы как на планшете, так и на микроконтроллере можно было свободно модифицировать в соответствии с индивидуальными исследовательскими потребностями. к счастью, операционная система Android предоставляет такой ресурс - android open accessory ( aoa). protocol.@xcite по этой причине описанные здесь программы были разработаны для широко доступного Android-планшета Google nexus 7, который предлагает дисплей с разрешением 1280@xmath0800 и до 32 гб оперативной памяти с быстрым четырехъядерным процессором. программы для микроконтроллеров используют протокол aoa в основном для передачи пятибайтовых пакетов данных, состоящих из командного байта плюс 32-разрядного целого числа. они также поддерживают более длинные пакеты данных в направлении микроконтроллер - планшет для отображения текстовых строк и графики. важным соображением является то, что usb-интерфейс на микроконтроллерном конце соединения должен работать в режиме хоста, поскольку многие планшеты, включая Google nexus 7, поддерживают работу только в режиме устройства. дополнительным соображением является то, что для длительной работы графического дисплея необходимо обеспечить постоянный зарядный ток. единственный способ зарядить большинство планшетов - через usb-разъем, и одновременная зарядка со связью возможна только в том случае, если планшет работает в режиме usb-устройства. с другой стороны, важно, чтобы usb-интерфейс микроконтроллера также был способен работать в режиме устройства, поскольку, когда требуется управление с помощью внешнего персонального компьютера, ПК будет поддерживать работу только в режиме хоста. по этой причине в аппаратном обеспечении был реализован полный протокол usb on - the - go (otg), позволяющий динамически переключаться между хостом и устройством. в настоящее время программное обеспечение микроконтроллера поддерживает работу только в режиме хоста с интерфейсом планшета, но для расширения до интерфейса ПК потребуется только полное включение примера кода usb otg, доступного на сайте microchip.@xcite более тонкий аспект аппаратного обеспечения заключается в том, что оба планшета, которые я до сих пор рассматривал, Google nexus 7 и archos 80 g9, используют внутренние импульсные источники питания, которые обеспечивают быстрое переключение нагрузки на источник зарядки напряжением 5 в. в первоначальных конструкциях источник питания напряжением 5 В на печатной плате микроконтроллера не мог справиться с быстро переключаемой нагрузкой, вызывая колебания в пределах 2 мв, которые затем распространялись на некоторые линии аналогового сигнала. хорошим решением является установка отдельного регулятора для источника usb-зарядки, работающего непосредственно от того же входного напряжения 6 В, которое питает всю печатную плату. при такой конструкции нет заметного влияния на источники питания 5 В и 3,3 В, используемые для питания микросхем на основной печатной плате. одно приложение для Android, microcontroller, поддерживает все описанные здесь инструменты с помощью гибкого пользовательского интерфейса, основанного на прокручиваемом списке параметров, который обновляется при каждом установлении нового usb-соединения. оно было разработано на java с использованием android software development kit, для которого доступна обширная документация.@xcite приложение доступно на моей веб-странице @xcite как в виде исходного кода java, так и в скомпилированном виде. как показано на рис. [ systemoverview ] и [ скриншот ], приложение отображает список параметров с метками и диапазонами, специфичными для приложения. также доступно несколько флажков и индикаторов состояния, также с надписями для конкретного приложения. как только пользователь выбирает параметр, прикоснувшись к нему, его значение можно изменить либо с помощью всплывающей клавиатуры, либо с помощью ползунков грубой и тонкой настройки, видимых на рис. [ скриншот ]. остальная часть экрана дисплея зарезервирована для графики в реальном времени, отображаемой с использованием пакета achartengine с открытым исходным кодом @xcite, и может отображать графики значений данных, напряжения ошибок в цепях блокировки и аналогичную информацию. графическая область может быть полностью обновлена со скоростью примерно до 15 Гц. хотя для выполнения определенных задач в конечном итоге потребуются собственные специализированные приложения для Android, обеспечивающие полный контроль, в частности генерация сигналов произвольной формы и блокировка частоты диодного лазера, универсальное решение, предлагаемое приложением microcontroller, по-прежнему удивительно хорошо работает в качестве отправной точки. для большинства описанных здесь приборов он также вполне удовлетворителен в качестве постоянного пользовательского интерфейса. хотя в этой статье упоминаются семь различных приборов, для их размещения используются только четыре печатные платы, все из которых имеют многочисленные элементы дизайна, а также общий интерфейс usb-планшета. несколько приборов также могут совместно использовать один планшет для взаимодействия с пользователем, поскольку его необходимо подключать только тогда, когда требуется взаимодействие с пользователем, что является основным преимуществом такого подхода к проектированию. другим распространенным элементом дизайна является 5-контактный программирующий разъем, входящий в комплект каждой печатной платы, который позволяет загрузить полную программу примерно за 10-20 секунд с помощью недорогого программатора microchip pickit 3. программы написаны на c и компилируются и загружаются программисту с использованием бесплатной версии компилятора microchip xc32 и mplab x environment.@xcite семейство процессоров pic32mx250 еще больше повышает гибкость конструкции, предоставляя множество программно переназначаемых выводов ввода-вывода, так что заданный вывод на интерфейсном терминале card - edge может может использоваться в качестве выходного сигнала таймера одной программой, линии цифрового ввода - другой и выхода последовательной связи - третьей.    чтобы избежать повторяющихся работ по компоновке и еще больше повысить гибкость, несколько часто используемых функций схемы были реализованы на небольших дочерних платах\", как описано в разделе. [ подраздел : дочерние платы ]. две из этих дочерних плат видны в интерфейсе лаборатории общего назначения, показанном на рис. [ labintphoto ], как и незанятый дополнительный слот. некоторые из этих дочерних плат просто предлагают обычные функции общего назначения, такие как переключение питания по usb, в то время как другие предлагают мощные возможности генерации и обработки сигналов.    за исключением платы интерфейса usb 1`@xmath00.8\", дочерние платы имеют размеры 1,5 `@xmath00.8\" и имеют общий 20-контактный dip-разъем, образованный двумя рядами квадратных контактных разъемов. линии электропитания и spi одинаковы для всех плат, в то время как другие контакты распределяются по мере необходимости. эти разъемы можно использовать в качестве удобной области прототипирования для настройки дизайна интерфейса после изготовления печатных плат, подключив провода к квадратным контактам. как уже упоминалось, печатная плата lab interface (labint32) была разработана для множества различных приложений, обеспечивая аппаратную поддержку до двух взаимозаменяемых дочерних плат, а также мощные возможности встроенного интерфейса. как показано на фиг. [ labintphoto ] и [ labintschematic ] основой дизайна является микроконтроллер pic32mx250f128d в 44-контактном корпусе. это обеспечивает достаточное количество интерфейсных контактов для удовлетворения широкого спектра потребностей, особенно учитывая, что многие из них могут быть назначены программным обеспечением. несколько разъемов и гнездовых разъемов по краям платы обеспечивают доступ к многочисленным интерфейсным выводам и сигналам, включая 8-разрядный цифровой интерфейс ввода-вывода, из которых шесть бит допускают логические уровни 5 в. два разъема предназначены для поддержки дополнительного энкодера вращающегося вала и последовательного интерфейса, как описано в разделе. [ подраздел : currentctrl ]. плата работает от одного модуля питания 6 В, 0,5 а, но содержит несколько встроенных источников питания и регуляторов. они обеспечивают питание 3,3 В и 5 В, необходимое для базовой работы, а также дополнительные источники питания на -5 В и @xmath312 В для операционных усилителей, аналогового преобразования и генерации радиочастотного сигнала. эти дополнительные источники питания представляют собой небольшие импульсные источники питания, которые работают непосредственно от входного напряжения 6 В, так что они не создают переходных процессов переключения на источник питания 5 В, как упоминалось в разделе. [ подраздел : usb ]. на основной плате также предусмотрены три особенно полезных интерфейсных компонента: двойной 16-разрядный ЦАП с выходным напряжением с буферизованной точностью 2,5 В (analog devices ad5689r), надежный инструментальный усилитель, полезный для усиления входного сигнала или сдвига уровня (ad8226), и 1024-позиционный цифровой потенциометр (ad5293 - 20), который может обеспечить компьютерную настройку любого сигнала, управляемого резистором 20 ком@xmath4, вплоть до ограничения полосы пропускания около 100 кГц. в настоящее время для микроконтроллера на плате labint доступны две программы демонстрационного типа. в одной из них используется встроенный 16-разрядный ЦАП для обеспечения аналоговой линейки высокого разрешения с параметрами, предоставляемыми интерфейсом планшета. другой работает с дочерней платой wvfm32, обеспечивая синтезированную сложную форму сигнала со скоростью вывода данных до 96 МГц, как описано в следующем разделе. самая простая из дочерних плат, крошечная плата usb32 размером 1`@xmath00.6\", используется на всех печатных платах. он просто обеспечивает логику питания и переключения для интерфейса usb otg хост / устройство с помощью регулятора 0,5 а и выключателя питания tps2051b. он включает в себя разъем micro usb a / b, который неудобно мал для пайки, но необходим, поскольку это единственный подходящий тип разъема.ved как для подключений в режиме хоста к планшетам, так и для подключения в режиме устройства к внешним устройствам computers.@xcite в рамках стандарта usb otg используется внутреннее подключение в usb-кабеле, чтобы отличать конец a (хост) от конца b (устройство). остальные дочерние платы немного больше - 1,5 `@xmath00.8\", и все они имеют общий 20-контактный dip-разъем, как описано в разделе. [ подраздел: модульный ]. они могут использоваться взаимозаменяемо на печатной плате labint32 или для конкретных целей на других печатных платах, как для дочерней платы dac32, необходимой для платы tempctrl. в этом разделе подробно описывается дочерняя плата wvfm32 и кратко описываются три другие. * wvfm32 * дочерняя плата wvfm32, схема которой показана на рис. [ wvfm32 ], извлекает выгоду из простоты прямого интерфейса spi и представляет собой чрезвычайно маленький, но высокопроизводительный прибор. он сочетает в себе замечательную микросхему генерации сигналов analog devices ad9102 (или ad9106) с быстрым дифференциальным усилителем постоянного тока (два для ad9106), а также регулятор напряжения и многочисленные развязывающие конденсаторы, необходимые для полосы пропускания около 150-200 МГц. ad9102/06 обеспечивает как генерацию сигналов произвольной формы из внутренней памяти на 4096 слов, так и прямой цифровой синтез (dds) синусоидальных волн с тактовой частотой, которая может варьироваться от одноступенчатой до 160 МГц. когда он используется на печатной плате labint32, быстрый дополнительный тактовый генератор недоступен, но программируемый выходной сигнал refclko микроконтроллера pic32 работает очень хорошо для выходных сигналов средней частоты после того, как он обусловлен простой пассивной сетью, показанной в центре фиг. [ лабораторная математика ]. выход refclko может быть настроен на частоту до 40 МГц с помощью системных часов pic32 или на частоту до 96 МГц с помощью встроенного usb pll clock.@xcite несмотря на то, что выходные контакты pic32 не предназначены для работы выше 40 МГц, тактовая частота 96 МГц, похоже, работает хорошо. дифференциальные буферные усилители ad8129 или ad8130 могут питать оконечную линию напряжением 50 Ом с амплитудой 32,5 в. при полной полосе пропускания среднеквадратичный уровень выходного шума составляет приблизительно 1 мВ, или 1 часть из 5000 от полномасштабного выходного диапазона. переходные процессы переключения цап изначально были очень большими при @xmath580 мВ, но после улучшения заземления между дополнительными выходными резисторами выборки (r5 и r6 на рис. [ wvfm32 ] ), переходные процессы были уменьшены до импульсов 6 мВ длительностью около 60 нс, и они чередуются по знаку так, что средняя площадь импульса близка к нулю. импульсная характеристика большого сигнала была измерена с помощью ad8129 для подключения кабеля длиной 1 м, 50 @xmath4, путем настройки генератора сигналов ad9102 для получения ступенчатой функции. форма функции отклика практически не зависит от размера шага для ступеней 15 в. выходное напряжение достигает 0,82 В через 4 нс, приближаясь к пределам осциллографа 100 МГц, используемого для измерения, демонстрируя, что схема приближается к своей расчетной полосе пропускания @xmath6 МГц. однако через 4 нс он демонстрирует небольшое отклонение, требуется почти 8 нс, чтобы достичь 90% полной мощности, а затем достичь 100% при @xmath511 нс. после этого начального повышения выходной сигнал демонстрирует небольшой звон на уровне @xmath51% с периодом около 100 нс, затухающий примерно через три цикла для достижения заданного уровня шума. этот звон вызван, по крайней мере частично, реакцией регуляторов @xmath35 В на внезапное изменение тока в выходной линии и не наблюдается при меньших шагах @xmath50.1 в. \\2. * dac32 * дочерняя плата dac32 имеет простую конструкцию, которая включает в себя один или два из тех же микросхем цап ad5689r, описанных в разделе [ sec : labint ], обеспечивающих до четырех 16-разрядных выходов цап, вместе с незафиксированным двойным операционным усилителем. операционные усилители имеют входы и выходы, доступные через 20-контактный dip-разъем, и могут использоваться в сочетании с ЦАП или отдельно.    \\3. * lockin * дочерняя плата lockin выполняет именно то, что следует из ее названия. он реализует простой, но полноценный блокирующий усилитель с надежным инструментальным усилителем с регулируемым коэффициентом усиления (ad8226 или ad8422), приводящим в действие однокристальный блокирующий усилитель ad630, который хорошо работает примерно до 100 кГц. выходной сигнал усиливается и фильтруется, затем оцифровывается 14-разрядным АЦП ad7940. производительность определяется в основном спецификациями ad630, за исключением того, что измерительный усилитель определяет уровень входного шума и коэффициент подавления синфазного сигнала. при использовании на печатной плате labint32 цифровой потенциометр на основной плате может быть подключен к этой дочерней плате, чтобы обеспечить регулируемое компьютером усиление входного усилителя.    \\4. * adc32 * плата adc32 все еще находится на стадии проектирования. в нем будет использоваться 16-разрядный АЦП ad7687b вместе с надежным мультиплексором adg5409b и дифференциальным усилителем intersil isl28617fvz, чтобы обеспечить гибкий аналого-цифровой преобразователь высокого разрешения, поддерживающий четыре полностью дифференциальных входа. в дополнение к более высокому разрешению, чем у встроенных 10-разрядных АЦП на микроконтроллере pic32, он обеспечивает гораздо более широкий диапазон входного напряжения и значительную защиту от перенапряжения. (цвет онлайн ) основные элементы прецизионного терморегулятора. высоковольтные операционные усилители pa340cc могут быть заменены сильноточными драйверами opa548 для использования в качестве двойного pzt-драйвера. ] печатная плата temp32, показанная в виде блока на рис. [ tempctrl ], использует 28-контактный разъем pic32mx250f128b на плате, оптимизированной специально для аналогового управления с низкой пропускной способностью, с тремя отдельными плоскостями заземления для цифровой логики, заземления сигнала и аналогового питания. несмотря на то, что плата достаточно проста для использования для контроля температуры общего назначения, она была разработана таким образом, чтобы обеспечить очень жесткий контроль, необходимый для одномодовых лазеров с распределенным брэгговским отражателем (dbr), для которых типичный коэффициент настройки температуры 25 ГГц/c требует контроля уровня мк для лазера с уровнем МГц stability.@xcite как показано на рис. [ tempctrl ], делитель, образованный термистором и прецизионным резистором 5 ppm/c, обеспечивает ввод 22-разрядного АЦП. microchip mcp3550 - 60 - это недорогой АЦП типа \"сигма -дельта\", который обеспечивает очень высокую точность и превосходное подавление шума частотой 60 Гц при низких скоростях передачи данных (15 Гц). эталон точности 2,5 В используется как для терморезисторного делителя, так и для установки полномасштабного диапазона преобразования АЦП, что делает результаты невосприимчивыми к небольшим эталонным колебаниям. для термистора буферизация не требуется, хотя при использовании другого датчика может потребоваться малошумящий дифференциальный усилитель.@xcite программа микроконтроллера реализует пид-регулятор (пропорционально - интегрально-дифференциальный), использующий целочисленную арифметику, с несколькими определяющими и ограничивающими параметрами, которые могут быть оптимизированы через интерфейс планшета. выходной сигнал @xmath7 после итерации @xmath8 определяется ошибкой @xmath9, коэффициентами усиления @xmath10, @xmath11 и @xmath12, частотой дискретизации @xmath13 и масштабным коэффициентом @xmath14, который позволяет использовать весь 16-разрядный диапазон выходного ЦАП: @xmath15 этот выходной сигнал является отправлено на дочернюю плату dac32, затем усилено операционным усилителем мощности opa548, способным подавать напряжение 60 В или 3 а. отдельная плоскость заземления аналогового питания для выходной секции печатной платы подключена к плоскости заземления аналогового сигнала только в одной точке.    при использовании обычного термистора 10 к@xmath4 среднеквадратичный уровень шума при однократном измерении составляет приблизительно 7 единиц ацп, что соответствует примерно 0,3 мк при комнатной температуре. предполагая полосу пропускания около 1 Гц для нагрева или охлаждения лазерного диода или оптического кристалла, усредненный по времени уровень шума и точность могут превышать 0,1 мк, что достаточно для большинства целей в типичной исследовательской лаборатории на базе лазера. печатная плата temp32 может альтернативно использоваться в качестве сдвоенного контроллера pzt напряжением 350 В для лазерных анализаторов спектра или других устройств настройки в микронном масштабе. для достижения этой цели АЦП опущен, а выходные операционные усилители заменены высоковольтными операционными усилителями apex pa340cc, используя простую печатную плату адаптера, которая приспосабливает измененный вывод.          печатная плата freqsynth32, находящаяся в настоящее время на стадии тестирования, предназначена для обеспечения точных высокочастотных радиочастотных сигналов для таких применений, как управление акустооптическими модуляторами. он поддерживает до двух сверхширокополосных синтезаторов частот adf4351, которые могут выдавать гораздо более высокие частоты, чем синтезаторы dds. эти устройства на базе фапч включают в себя внутренние генераторы, управляемые напряжением, и выходные делители, позволяющие автономно генерировать радиочастотный сигнал в диапазоне 35-4000 МГц. как показано на рис. [ freqsynth ], радиочастотный переключатель позволяет переключаться между двумя синтезаторами в ns - масштабе времени, или, если один из них выключен, он обеспечивает быстрое включение - выключение. формирование сигнала включает в себя фильтр нижних частот для устранения гармоник с выходных делителей adf4351, а также широкополосный усилитель и цифровой аттенюатор, которые обеспечивают регулировку выходного уровня примерно от -15 дбм до +16 дбм. выходной сигнал может управлять модулями усилителя большей мощности, такими как rfhic rfc1g21h4 - 24, который обеспечивает мощность до 4 Вт в диапазоне 20-1000 МГц. работать в таком широком диапазоне частот непросто. несмотря на то, что не было предпринято попыток создания полосовой конструкции с согласованием импеданса, поскольку для этого потребовалась бы подложка печатной платы тоньше нормы в 0,062 дюйма, значительное внимание было уделено сохранению короткого, широкого и защищенного от потерь излучения пути радиочастотной передачи за счет многочисленных переходных отверстий, соединяющих переднюю и заднюю плоскости заземления на печатной плате. печатная плата mpl_interface, более подробно описанная на моей веб-странице @xcite, разработана как универсальный интерфейс для лазерного диодного преобразователя тока, совместимого с серией mpl от wavelength electronics. однако эта схема может представлять более общий интерес по двум причинам. во-первых, это позволяет управлять и считывать показания устройств с опорным уровнем заземления, который может колебаться в диапазоне @xmath16 В, с точностью 13-16 бит. во-вторых, его программа управления включает в себя полную поддержку энкодера вращающегося вала (bourns em14a0d - c24-l064s) и простого последовательного ЖК-дисплея (sparkfun lcd-09067 ), что позволяет регулировать ток лазера и отображать его без интерфейса usb-планшета. тот же кодер и дисплей также могут быть подключены к печатной плате labint32 с помощью разъемов, предусмотренных для этой цели. значительная часть исследовательских потребностей типичной лаборатории лазерной спектроскопии или атомной физики может быть удовлетворена четырьмя печатными платами, описанными в sec. [ sec : labint ] и [ sec : specialpurpose ], вместе с соответствующим программным обеспечением и дочерними платами в sec. [ подраздел : дочерние платы ]. преимущества этого подхода включают простые и доступные модульные конструкции, пользовательский интерфейс для планшета Android с интерактивной графикой высокого разрешения и легко перенастраиваемое программное обеспечение. схемы предназначены для самостоятельного изготовления, снижая затраты и предоставляя ценные образовательные возможности студентам, при этом обеспечивая высокую производительность, ожидаемую от специализированного исследовательского прибора. большинство печатных плат можно спаять вручную, хотя для двух радиочастотных цепей (wvfm32 и freqsynth32) требуется станция для пайки горячим воздухом. Полная информация о конструкции и список программного обеспечения доступны на моем сайте. website.@xcite помимо этих общих соображений, эти инструменты обладают некоторыми необычными и ценными возможностями. одним из них является единое общее приложение для Android, которое предоставляет полный графический интерфейс для множества различных устройств. когда планшет извлекается после настройки рабочих параметров, микроконтроллер сохраняет обновленные значения параметров, и прибор будет продолжать использовать их бесконечно. другим преимуществом генератора сигналов wvfm32 является очень малый размер, который использует простое прямое интерфейсное подключение к микроконтроллеру для обеспечения генерации сигналов произвольной формы на выходе напряжения и dds на печатной плате 1,5`@xmath00.8\". на labint32 общего назначения можно установить до двух таких печатных плат. интерфейсная плата, сама по себе имеющая размеры всего 5`@xmath02.25\", и требуется только один полурегулируемый источник питания 6 В, 0,5 а. аналогичным образом, дочерние платы dac32 и lockin имеют одинаковую компактную площадь, что облегчает установку контрольно-измерительных приборов, которые могут поместиться внутри управляемого устройства. основное применение этих приборов в нашей собственной лаборатории заключается в управлении несколькими диодными лазерами и обеспечении гибкого управления многочисленными частотными модуляторами, необходимыми для исследований оптических полихроматических взаимодействий на атомах и molecules.@xcite хотя доступные схемы и программное обеспечение отражают эту направленность, большинство из этих приборов в их нынешнем виде могут использоваться для различных применений, и все они могут быть легко модифицированы для особых нужд. + э. э. Эйлер, профессор instrum. * 82 *, 013105 ( 2011 ). э. э. Эйлер, веб-страница по адресу http://www.phys.uconn.edu /~эйлер/микроконтроллеры/, _ разработка микроконтроллеров для лабораторий атомной, молекулярной и оптической физики _, физический факультет университета Коннектикута. p. e. гаскелл, дж. дж. Торн, с. Альба и д. а. Стек, профессор instrum. * 80 *, 115103 ( 2009 ). т. Мейрат и ф. Шрек, лабораторная система управления для экспериментов с холодным атомом, лаборатория атомной оптики, центр нелинейной динамики и физический факультет, Техасский университет в Остине, http://www.strontiumbec.com/control/control.html, 2013. см., например, м. Угрей, Дж. э. Этфилд, т. г. Маккарти и Р. с. Шиелл, rev. instrum.. * 77 *, 113109 ( 2006 ). д. Сэндис, \"жизнь после пи\", digi - key corporation, 14 июня 2013 г., доступно по адресу http://www.digikey.com/us/en/techzone/microcontroller/resources/articles/life-after-pi.html. корпорация \"микроэлектроника\". виеградска 1а, 11000 Белград, Сербия. смотрите http://www.mikroe.com / mini / pic32/. более быстрые версии с частотой 50 МГц также описаны в технических паспортах, но по состоянию на июль 2013 года они еще не были широко доступны. смотрите технический паспорт pic32mx1xx/2xx, документ ds61168e, 2012, microchip technology inc., 2355 west chandler blvd., Чандлер, Аризона, http://www.microchip.com. aoyue968a+, продается в sra soldering products, Фоксборо, Массачусетс. для монтажа микросхем поверхностного монтажа на контактные площадки печатной платы следует нанести тонкий слой паяльной пасты с флюсом; мы получили хорошие результаты, используя модель smd291ax от chipquik. 

было разработано несколько высокопроизводительных лабораторных приборов, пригодных для ручной сборки, с использованием 32-разрядных микроконтроллеров с низким количеством контактов, которые взаимодействуют с планшетом Android через usb-интерфейс. одно приложение для планшета Android удовлетворяет множество потребностей интерфейса, загружая списки параметров и графические данные с микроконтроллеров, которые сами программируются с помощью легко модифицируемого кода на c. аппаратный дизайн приборов подчеркивает низкое количество микросхем и отличается высокой модульностью, полагаясь на небольшие дочерние платы `для специальных функций, таких как управление питанием по usb, генерация формы сигнала и обнаружение фазочувствительного сигнала. в одном примере дочерняя плата предоставляет полный генератор сигналов и прямой цифровой синтезатор, которые помещаются на печатной плате 1,5\"@xmath00.8\".