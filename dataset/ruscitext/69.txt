ПРЕДМЕТНАЯ ОНТОЛОГИЯ ДЛЯ ПОНИМАНИЯ ТЕКСТОВ ГЕОМЕТРИЧЕСКИХ ЗАДАЧ 

Введение
Проблема построения онтологий возникла не на пустом месте. При создании интеллектуальных систем (и в частности, систем обработки текстов) всегда стояла задача разработки моделей проблемных сред: что, как и при использовании каких языков описаний представлять информацию о фрагментах окружающего мира. Нельзя сказать, что все сделанное в этом направлении «пошло прахом». Наработан значительный багаж в части языков представления знаний, процедур вывода (манипулирования этими знаниями) и т.д.
Сегодня в теории принято классифицировать онтологии по степени зависимости от задач или прикладной области, по языку представления онтологических знаний и его выразительным возможностям и другим параметрам [1, 2]. Особое место занимают онтологии верхнего уровня (описывают наиболее общие концепты: пространство, время, материя, объект, событие, действие и т. д.) [3]. Существуют онтологии, ориентированные на предметную область (см. примеры в [4, 5]). Онтологии, ориентированные на задачу, отражают специфику приложения, выполняющего конкретную задачу. Прикладные онтологии описывают концепты, которые зависят как от онтологии задач, так и от онтологии предметной области.
Онтологический инжиниринг подразумевает [2]:
• определение классов понятий в онтологии;
• наведение таксономии на классы (подкласс – класс - надкласс);
• разработку структур понятий и ситуаций;
• определение свойств и значений этих свойств;
• процедуры вывода и преобразования ситуаций.
В данном докладе представляется работа с использованием онтологического инжиниринга по созданию прикладной онтологии «Планиметрия», предназначенной для понимания текстов геометрических задач. 
1. Структура предметной онтологии «Планиметрия»
На формальном уровне онтология — система, содержащая определенные концепты (понятия, классы), свойства концептов (атрибуты, роли), отношения между концептами (зависимости, функции) и дополнительные ограничения, которые определяются аксиомами. Концептом может быть описание задачи, функция, действие, стратегия и т. п. 
1.1. Определение классов понятий
В онтологии «Планиметрия» рассматриваются следующие основные понятия Треугольник, Параллелограмм, Трапеция, Овал, Плоская Кривая и другие концепты, которые участвуют в структурных описаниях основных понятий.
В центре онтологии находятся классы. Класс Плоская Фигура представляет все объекты планиметрических фигур. Конкретные Плоские Фигуры – экземпляры этого класса. Конкретный треугольник – это экземпляр класса Треугольник. Класс может иметь подклассы, которые представляют более конкретные понятия, чем надкласс. Например, класс Треугольник можно разделить на подклассы Прямоугольный, Равносторонний и Равнобедренный Треугольник.
Важная часть любого представления знаний – это классификация по категориям или классам объектов. 
1.2. Наведение таксономии
Отношения между классами и подклассами понятий организуются в виде таксономии или таксономической иерархии. Для представления таксономии используется отношение является_видом (A kind of). Фрагмент таксономии для онтологии «Планиметрия» представлен на рис.1 
1.3. Структуры понятий и ситуаций
Один объект может составлять часть другого объекта – это привычно для описания окружающего нас мира. Глаза – это часть лица, Крыло или Кабина – часть Самолета, а данная статья – часть трудов конференции Диалог. Для отображения таких видов взаимоотношений целого и частей служат три вида понятий. Составные понятия, в которых используется отношение является_частью (PartOf). Для таких понятий бывает достаточным только перечисление частей, например, оглавление для трудов конференции. Там, где важны отношения между частями, служат структурные понятия. Для выделения структуры используется отношение имеет_структуру. Пример фрагмента структуры понятия Треугольник в виде n-арной семантической сети (семантического гиперграфа)1 представлен на рис. 2. Встречаются такие составные объекты, которые имеют различимые части, но не имеют конкретной структуры. Например, три изображенных на рисунке треугольника имеют площадь 25 см2. Для таких объектов вводится понятие совокупности с отношением группа_из (BunchOf). Например, если три треугольника обозначить как Тре-к1, Тре-к2, Тре-к3, то выражение BunchOf ({Тре-к1, Тре-к2, Тре-к3}) обозначает составной объект, частями (но не элементами) которого являются три треугольника. Этот объект может использоваться как обычный, хотя и не структурированный объект.
Ситуация – это такие описания, которые «компонуются» из некоторого множества взаимосвязанных определенным образом понятий. Они чаще всего не имеют статус понятия и носят временный характер. Такие описания возникают в процессе формирования результата на поступление входной информации. Иногда такого рода описания (скажем, в зависимости от частоты их появления) могут оформляться в онтологии в качестве некоторого сложного понятия. Например, вписанная в треугольник окружность есть ситуация, полученная из описания треугольника, в который добавили описание окружности с определенными ограничениями (окружность с такими параметрами, при которых она касается трех сторон треугольника). Такая ситуация в области планиметрии запомнена в качестве структурного понятия Вписанная (в Треугольник) Окружность. 
При составлении структур используются в качестве составляющих понятия, не вошедшие в таксономию классов, но необходимые для полного описания понятия: Точка, Отрезок Прямой, Сторона, Угол, Высота, Диагональ, Медиана, Биссектриса, Средняя Линия и т.д.
Полная структурная часть понятия может оказаться не столь наглядной, как хотелось бы. Для этого предусматривается возможность при разработке и отладке онтологии представлять эти структуры в виде нескольких стратов – структур, в которых присутствуют базовые элементы, а в остальных частях определены разные компоненты. На рис.1 для наглядности понятие Треугольник определено в виде структуры трех отрезков прямых, соединенных концевыми точками. Хотя полная структура понятия Треугольник включает биссектрисы, медианы и высоты треугольника (см. рис. 3, где в структуре треугольника представлены понятия Угол, а на рис. 4 – понятие Медиана). 
1.4. Определение свойств и значений свойств
Каждое понятие онтологии имеет свойства: это может быть обозначение класса Параллелограмм ABCD, его Площадь или Периметр. Каждое свойство может быть задано конкретным значением или способом (формулой, реализуемой с помощью присоединенной процедуры) вычисления данного значения свойства. На рисунке интегральными свойствами понятия Треугольник являются Площадь и Периметр. Значения этих свойств для экземпляра понятия подсчитываются по формулам F1 и F2, которые реализуются процедурами при означенных (конкретных, числовых) значениях свойств внутренних понятий Треугольника: длин сторон или длины одной стороны и соответствующей высоты. В представлении на языке семантической сети эти свойства связываются с соответствующими понятиями отношениями: имеет, имеет_длину, имеет_значение и т.п. Отметим, что некоторые целостные свойства понятия могут быть представлены как внутри структуры этого понятия, так и в виде интегрального его свойства. В данном примере таким свойством является зависимость сторон треугольника, которая описывается формулой F3 (гиперграфовое преставление позволяет выделять такие n-ки внутри структуры как подструктуры). Эта зависимость сторон может быть представлена свойством целостного понятия Треугольник. 
Критерии предпочтения того или другого способа представления такого рода свойств автору неизвестны.
Для онтологии планиметрических фигур используются следующие свойства соответствующих понятий: координаты точки, длина, периметр, площадь, высота, угол, кривизна и др. 
1.5. Определение отношений
При разработке и при использовании любой онтологии необходимо определиться с перечнем применяемых отношений и их свойствами. Это следует делать исходя из оптимизации списка применяемых отношений и из последующей их кодификации. На сегодняшний день нет общепринятого полного перечня отношений. Поэтому приходится для каждой предметной области вводить свои отношения (хотя относительно некоторых отношений такая практика есть, например, A kind of, PartOf). Ниже в таблице приведены отношения, используемые в онтологии «Планиметрии». Для многих отношений в онтологии имеются имена обратных отношений, например, вид - род, имеет_длину – является_длиной и т.д.
1.6. Процедуры вывода
Использование онтологии как модели предметной области определяется некоторым множеством процедур вывода, которые кратко рассмотрены ниже.
Категории или классы объектов необходимы для организации базы знаний с целью использования информации о наследовании. Если известно, что все экземпляры класса Многоугольник имеют площадь, и утверждается, что Треугольник является подклассом класса Многоугольник, а Равнобедренный Треугольник является подклассом класса Треугольник, то каждый равнобедренный треугольник имеет площадь. Если объект принадлежит к нескольким классам, то в этом случае мы имеем множественное наследование. Таким примером в данной онтологии служит Квадрат, который одновременно принадлежит и к понятию Прямоугольник и к понятию Ромб.
Важная особенность семантических сетей – способность представлять заданные по умолчанию значения для классов понятий. Это позволяет естественно вводить исключения. Заданные по умолчанию значения находятся с помощью процедуры наследования, поскольку эта процедура следует по связям, направленным вверх от самого объекта, и останавливается, как только находит искомое значение. Значение по умолчанию перекрывается более конкретным значением. Например, площадь любого треугольника подсчитывается по формуле 1/2 ас hac (значение по умолчанию), а для прямоугольного треугольника площадь можно подсчитать по более простой формуле 1/2 ac bc (более конкретное значение).
Еще одна общая форма вывода: использование обратных связей. Например, связь имеет_длину является обратной по отношению к является_длиной. Это означает, что имеет место высказывание: любой p, s имеет_длину (p, s) ⇒ является_длиной (s, p).
Возможно, излишне хранить информацию и о прямой, и об обратной связи. Тем не менее, с точки зрения приобретения и использования знаний удобно иметь доступной эту информацию в явном виде. Система приобретения знаний может автоматически заполнить в описаниях и прямое и обратное отношение, обеспечивая полноту и согласованность базы знаний.
Выразительная мощность семантических сетей проявляется, если ввести присоединенные процедуры – метод, с помощью которого осуществляется вызов специальной процедуры, предназначенной для обработки определенных отношений. Примером такой процедуры является упоминаемая выше процедура вычисления по формуле.
При оперировании с конкретными экземплярами понятий реализуется процедура означивания. По входной информации некоторые переменные в описании структуры понятия принимают либо конкретные значения, либо значения, которые необходимо найти по условиям задачи. Например, если во входных данных относительно понятия Равнобочная Трапеция указаны длина одного из оснований и боковой стороны, то процедура означивания предполагает задание в обобщенной структуре этого понятия вместо переменных (длины основания и боковой стороны) их конкретные значения.
Фрагменты онтологии, включая структуры и свойства понятий, при решении конкретных задач становятся материалом для описания ситуации, которая определяется входными данными. В дополнение к этим фрагментам онтологии предполагается введение понятий и связей, определяемых входными условиями (текстом геометрической задачи). Это реализуется с помощью процедур дополнения. Рассмотрим некоторые из этих процедур на следующем примере. Пусть задан текст геометрической задачи:
Площадь треугольника, один из углов которого равен разности двух других, равна площади квадрата, сторона которого совпадает с одной из сторон этого треугольника. Найти углы данного треугольника.
В описании понятия Треугольник никакой информации о «разности двух углов» и о «равенстве этой разности третьему углу» быть не может. А ситуация, описывающая данный текст должна ее включать. В этом случае подключаются процедуры дополнения, которые на основе присутствия знания в онтологии о понятии Разность (x, y) и о связи равно модифицируют описание ситуации введением соответствующих узлов и дуг, как это представлено на рис. 3. Данный рисунок иллюстрирует процедуры дополнения для понятий Треугольник и Квадрат и процедуры частичного означивания. Выделенные узлы и жирные связи отображают те объекты, которые представлены в тексте задачи. Знак вопроса при значениях понятий Угол определяет то, что эти значения необходимо найти в процессе решения геометрической задачи. 
При любом языке представления знаний необходимой процедурой является сопоставление описаний. Это либо сравнение по образцу (pattern matching), либо поиск изоморфизма графов. Последняя процедура, описанная в [6], предполагает сопоставление семантического представления текста геометрической задачи со структурными фрагментами предметной онтологии. Результат такого сопоставления представлен на рис. 3., где понятия углов треугольника, их значений и одной из сторон этого треугольника (выделенные узлы) сопоставлены с фрагментами семантического описания текста задачи. 
2. Понимание текстов геометрических задач
Тексты геометрических задач [7] представляют собой набор связных предложений. Они включают простые и сложные предложения, неполные предложения (с анафорами и эллипсисами).
Под пониманием геометрических задач будем подразумевать такое их представление на языке предметной онтологии «Планиметрия», которое будет являться связным, означенным и дополненным описанием ситуации, представленной текстом. Рассмотреть весь процесс анализа текстов геометрических задач в рамках данной работы не представляется возможным. Поэтому проиллюстрируем для пары текстов геометрических задач те структуры ситуаций, которые должны быть получены в результате лингвистического анализа с использованием данной предметной онтологии.
Геометрическая задача:
Найдите площадь треугольника, две стороны которого равны 6 и 8, а медиана, заключенная между ними, равна 5.
На рис. 4. представлена означенная структура ситуации, соответствующая тексту задачи, где l1 = 6, l2 = 8, l4 = 5 являются означенными элементами. Полученное представление является связным (связность выделенных элементов определяется существующими связями в структуре понятия Треугольник и связью им_структуру). Этот результат, конечно, содержит больше информации, чем представлено в тексте. Такая «избыточность», на наш взгляд, является существенным моментов процесса понимания текста при наличии предметной онтологии. 
Геометрическая задача:
В равнобедренной трапеции боковая сторона равна 12, а основания 20 и 28. Найдите периметр трапеции.
На рис. 5. представлена означенная структура ситуации, соответствующая тексту задачи, где l = 12, l2 = 20, l3 = 28 являются означенными элементами. Здесь выделенные элементы определяют те данные, которые были представлены во входном тексте. 
Заключение
Процесс построения любой онтологии является итеративным, при котором происходит ее модификация и расширение. В качестве одного из возможных направлений расширения предметной онтологии «Планиметрия» может быть введение в данную онтологию понятий, планиметрические фигуры которых изображены на рис. 6.
Каждая из этих фигур имеет общепринятое название и может быть представлена в качестве отдельного понятия онтологии.
Важным вопросом создания и поддержания онтологии является процесс ее тестирования. Для онтологии «Планиметрия» в качестве средств тестирования возможны следующие:
- построение текстов на базе онтологических представлений, например с помощью системы генерации текстов по структурным описаниям [8];
- построение по структурным описаниям понятий синтез изображений планиметрических фигур с помощью системы концептуальной графики;
- собственно решение геометрических задач с помощью какого-либо решателя типа Problem Solver

Дается описание предметной онтологии «Планиметрия». Определяются классы понятий, их структуры и свойства. Приводятся список используемых отношений, и дается характеристика процедур вывода. Для текстов геометрических задач приводятся онтологические описания ситуаций как результат преобразования и означивания структур понятий. Предлагаются понятия для введения в онтологию для ее расширения.