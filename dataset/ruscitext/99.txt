О ПРОВЕРЯЮЩИХ ТЕСТАХ ДЛЯ КОНСТАНТНЫХ НЕИСПРАВНОСТЕЙ НА ВХОДАХ СХЕМЫ СЧЕТЧИКА ЧЕТНОСТИ 

В работе изучается длина минимальных проверяющих тестов относительно источников неисправностей некоторых типов, вызывающих произвольные константные неисправности на входах схемы счетчика четности порядка n . 
Счетчиком четности порядка n называется линейная функция f n ( x1, x2 ,…, xn ) = x1 (+) x2 (+) …(+) xn . Константная неисправность на входах схемы, реализующей булеву функцию, заключается в замене некоторых переменных этой булевой функции константами. Поскольку вид схемы при этом неважен, в дальнейшем будем говорить о константных неисправностях самой булевой функции, не упоминая входов схем.
Множество T наборов значений переменных x1,…, xn называется проверяющим тестом [1] для неисправностей функции f ( x1,…, xn ) относительно источника неисправностей U тогда и только тогда, когда любая неравная функции f функция f ′ , которая может быть получена из f в результате действия источника неисправностей U , отличается на множестве T от функции f . Длиной теста называется число наборов в нем. Тест минимальной длины называется минимальным. 
Тесты для счетчиков четности строились в целом ряде работ.
В работе О. А. Долотовой [2], см. также [3; стр. 66-83], были найдены точные значения или асимптотическое поведение длины минимальных единичных проверяющих тестов относительно константных неисправностей для самых труднотестируемых функций из всех классов Поста (в частности, было доказано, что длина минимального единичного проверяющего теста относительно произвольных константных неисправностей на входах схем равна 2). В работе В. Г. Хахулина [4] доказывается, в частности, что длина минимального полного проверяющего теста относительно произвольных константных неисправностей на входах схем не меньше n + 1. В той же работе [4] приводится верхняя оценка n + 2 длины минимального полного проверяющего теста для счетчика четности, реализованного схемой из функциональных элементов в произвольном допустимом базисе при константных неисправностях на входах функциональных элементов. (Предлагаемая в данной работе теорема 1 фактически не является новой и приводится для демонстрации более короткого доказательства нижней оценки: верхняя оценка в этой теореме тривиальна, а нижняя ранее доказывалась в [4]). В работе С. Р. Беджановой [5] доказывается существование реализующей счетчик четности порядка n схемы из функциональных элементов в стандартном базисе, допускающей проверяющий тест длины ]log 2 (n − 1)[+2 для инверсных неисправностей на выходах элементов. Упомянем также, что тесты для функции f n , реализованной контактными схемами, изучались в работах [1; стр. 322325], [6-10]. В статье [11] изучались тесты для линейных локальных неисправностей на входах схем. Близкие задачи возникают в теории расшифровки булевых функций и объемлющей последнюю теории изучения булевых функций по запросам (learning Boolean functions). Сложность расшифровки счетчиков четности от n переменных с помощью деревьев решений изучалась в работе [12]. Отметим, что к рассматриваемой в статье тематике примыкает и область вероятностного тестирования свойств булевых функций (testing properties of Boolean functions), в рамках которой оценивается минимальная длина вероятностного теста, позволяющего либо точно установить, что предлагаемая для тестирования функция лежит в предписанном классе («обладает заданным свойством») или находится «близко» к одной из функций предписанного класса, либо же с достаточной вероятностью установить, что предлагаемая для тестирования функция находится «далеко» от любой из функций предписанного класса (см., например, работы [13, 14]). Тестированию линейности уделено внимание в работах [14-19]. 
В качестве источников неисправностей в данной работе рассматриваются следующие источники:
U r — источник неисправностей, допускающий замену не более r переменных булевой функции произвольными (булевыми) константами;
U п = U n — источник неисправностей, допускающий всевозможные константные неисправности функции (тесты относительно U п называются полными);
U ч — источник неисправностей, допускающий замену четного числа переменных булевой функции произвольными константами;
U н — источник неисправностей, допускающий замену нечетного числа переменных булевой функции произвольными константами;
U л — источник неисправностей, допускающий локальные константные неисправности булевой функции, т. е. такие неисправности, при которых из того, что вместо переменных xi и x j ( i < j ) подставлены константы, следует, что вместо всех переменных xk , где i < k < j , подставлены константы (тесты относительно U л назовем локальными).
Длину минимального проверяющего теста для константных неисправностей функции f n относительно источников U r , U п , U ч , U н , U л будем обозначать через lr (n) , l п (n) , l ч (n) , l н (n) , l л (n) соответственно.
В дальнейшем для краткости вместо слов “проверяющий тест для константных неисправностей функции f n относительно источника неисправностей U ” будем писать “тест для f n относительно U ”.
Запишем (упорядоченные некоторым образом) наборы теста T в виде матрицы M (T ) так, что каждый набор теста представляет собой строку матрицы M (T ) (при этом каждый столбец матрицы M (T ) будет соответствовать своей входной переменной, а подмножество множества столбцов — подмножеству множества входных переменных).
Лемма 1. Множество T двоичных n -разрядных наборов является проверяющим тестом для константных неисправностей функции f n относительно источника неисправностей U тогда и только тогда, когда покоординатная сумма по модулю 2 столбцов матрицы M (T ) , соответствующих любому подмножеству множества переменных {x1,…, xn } , которое может быть повреждено источником U , отлична от столбца из всех нулей и от столбца из всех единиц.
Доказательство. Пусть покоординатная сумма по модулю 2 столбцов матрицы M (T ) , соответствующих множеству переменных {x j , x j ,…, x j } (которое источник U может в точности забить константами и которое лежит в множестве {x1, ..., xn } ), равна столбцу, все элементы которого равны sig ( sig из{0,1} ). Тогда функция f n ( x1,…, xn ) на наборах из T не будет отличаться от функции, полученной из f n ( x1,…, xn ) подстановкой константы sig вместо переменной x j и константы 0 вместо переменных x j ,…, x j . Значит, T не является проверяющим тестом.
Пусть теперь T не является проверяющим тестом для f n ( x1,…, xn ) относительно источника неисправностей U . Тогда найдется функция
f ′n( x1,…, xn ) , полученная из f n ( x1,…, xn ) подстановкой (под действием U ) вместо переменных булевых констант соответственно и неотличимая от f n ( x1,…, xn ) на множестве T . Но так как
f n ( x1,…, xn ) — счетчик четности, то последнее означает, что сумма по модулю 2 тех столбцов матрицы M (T ) , которые соответствуют столбцам переменных x j , x j ,…, x j , равна столбцу, каждый элемент которого равен константе sig 1 (+) sig 2 (+) ⋯ (+) sig q . Лемма доказана.
Далее для простоты обозначений вместо “ a1, a2 ,…, at , a1, a2 ,…, at ,…, a1, a2 ,…, at ” будем писать “ [a1a2 …at ]k ”. 
Теорема 1. При n ≥ 2 l п (n) = n + 1.
Доказательство. Верхняя оценка тривиальна (достаточно рассмотреть все наборы единичного шара с центром в наборе ([0]n) ).
Нижняя оценка. Разобьем двоичные l -разрядные наборы на типы, отнеся к одному типу противоположные наборы. Число типов при этом будет равно 2l−1 . Предположим, что существует тест T длины l , l ≤ n . Тогда число непустых подмножеств столбцов матрицы T равно 2n − 1 , что больше, чем 2l−1 . Значит, суммы по модулю 2 каких-то двух различных подмножеств A и B столбцов матрицы T относятся к одному типу, а, следовательно, сумма столбцов из множества C = ( A ∪ B ) \ ( A ∩ B ) = A∆B есть постоянный столбец, т. е. T не является тестом по лемме 1. Полученное противоречие доказывает теорему.
Изучим теперь локальные проверяющие тесты для константных неисправностей f n . Пусть T — множество, состоящее из l двоичных n - разрядных наборов. Построим по T последовательность R (T ) , состоящую из n разбиений множества наборов T на два блока, по следующему принципу: для всякого i , i = 1, n , к первому блоку i -го разбиения отнесем те наборы из T , у которых сумма по модулю 2 значений первых i переменных равна 0, а ко второму блоку — те наборы из T , у которых сумма по модулю 2 значений первых i переменных равна 1 . Легко устанавливается следующий критерий.
Лемма 2. Множество T является локальным проверяющим тестом для константных неисправностей f n тогда и только тогда, когда в последовательности R (T ) все блоки непусты и попарно различны.
Доказательство. Пустота s -го блока ( s из{1, 2} ) i -го разбиения в R (T ) равносильна тому, что на множестве T не обнаруживается ошибка, заключающаяся в забивании всех первых i переменных константами, сумма которых сравнима с s по модулю 2 . Далее, равенство s1 -го блока i -го разбиения и s2 -го блока j -го разбиения в R (T ) ( s1, s2 из{1, 2} , i < j ) равносильно тому, что на множестве T не обнаруживается ошибка, заключающаяся в забивании всех первых переменных c i -й по j -ю константами, сумма которых сравнима с s1 + s2 по модулю 2 . Фактически, эта лемма является применением леммы 1 для U = U л .
Теорема 2. При всех натуральных n имеет место равенство l л (n) =]log 2 (n + 1)[+1.
Доказательство. Нижняя оценка. Пусть T — локальный проверяющий тест для f n , состоящий из l двоичных n -разрядных наборов. По лемме 2 значение n не может превосходить максимальной длины последовательности разбиений l элементов на 2 блока, в которой все блоки непусты и попарно различны. Эта длина, в свою очередь, не может быть больше числа различных блоков, которые в разбиениях могут являться минимальными по мощности, т. е. n ≤ sum Cli ≤ 2l −1 − 1, откуда l ≥ log 2 (n + 1) + 1 , l ≥]log 2 (n + 1)[+1 .
Верхняя оценка. Рассмотрим сначала случай n = 2m , m – целое неотрицательное. В тест T включаются два набора — они обеспечивают непустоту всех блоков рассматриваемой последовательности разбиений R (T ) и отличимость всех первых блоков разбиений от всех вторых. Остальные m наборов T (при m из N ) строятся методом дихотомии. Все m + 2 наборов, очевидно, образуют локальный тест по лемме 2, так что в этом случае l ≤]log 2 (n + 1)[+1 .
Рассмотрим теперь случай n = 2m − 1, m – натуральное, m ≥ 2 . В тест T включается набор (1[0]2 −2 ) — он обеспечивает непустоту всех вторых блоков рассматриваемой последовательности разбиений R (T ) и отличимость всех первых блоков разбиений от всех вторых. Остальные m наборов T строятся методом дихотомии, причем все, кроме последнего, получаются из наборов с 3-го по (m + 1) -й из пункта а) для того же m выбрасыванием второго разряда, а последний набор получается из (m + 2) -го набора из пункта а) для того же m выбрасыванием второго разряда и инвертированием первого разряда. Легко видеть, что все первые блоки разбиений R (T ) также непусты и что все блоки в R (T ) попарно различны. Значит, все m + 1 наборов образуют локальный тест по лемме 2, так что и в этом случае l ≤]log 2 (n + 1)[+1 .
Тест для произвольного n , 2m−1 < n ≤ 2m − 2 , m ≥ 3 , строится по тесту T из предыдущего абзаца для того же m отбрасыванием нужного количества последних разрядов. Теорема доказана.
Теорема 3. При натуральных n, n ≥ 2 , имеют место равенства: l ч ( n) = n , l н ( n) = 2 .
Доказательство. Верхнюю оценку первого равенства по лемме 1 обеспечивает тест, состоящий из строк квадратной матрицы порядка n. Нижняя оценка доказывается аналогично нижней оценке теоремы 1 с учетом того, что число имеющих четную мощность непустых подмножеств столбцов матрицы M (T ) теста T равно 2n−1 − 1 , и того, что если мощности множеств A и B четны, то мощность множества C = A∆B также четна. Верхняя оценка второго равенства следует из рассмотрения теста T = {([0]n ), ([1]n )} , нижняя очевидна.
Следствие 1. Для любых натуральных r и n, n ≥ 2r + 1 , верны неравенства: l2 r −1 (n) ≤ l2 r (n) ≤ l2 r +1 (n) ≤ l2 r (n) + 2.
Теорема 4. При n ≥ 2 , 2 ≤ r ≤ n (r и n – натуральные) верны неравенства.
Доказательство Нижняя оценка. Пусть T — тест длины l относительно U r . Число непустых имеющих мощность не более [r / 2] подмножеств множеств столбцов матрицы теста M (T ) равно sum C . Если это число больше 2 , то найдутся два подмножества A и B , суммы (по модулю 2) столбцов которых либо равны, либо противоположны, следовательно, сумма столбцов подмножества C = A∆B ( | C |≤ r ) есть постоянный столбец, и T — не тест по лемме 1.
Верхняя оценка. Случай четного натурального r . Отыщем при фиксированном l достаточно большое значение n , при котором существует тест T длины l для f n относительно источника U r . Всякое (в том числе пустое) подмножество столбцов матрицы теста, имеющее мощность не более r − 1 , запрещает попадание в матрицу теста двух столбцов, а именно, столбцов, которые в сумме по модулю 2 со столбцами указанного подмножества дают постоянный столбец. Если 2sum Cni < 2l, найдется столбец, который можно добавить справа к матрице T , чтобы получить тест для f n+1 . Пусть nl — максимальное из таких n , для которых выполняется последнее неравенство. Для nl выполняются неравенства. Очевидно, что nl −1 ≤ nl , если первое из чисел существует и l ≥ 2 . Пусть теперь n из [nl −1; nl ] . Тогда для такого n заведомо существует тест длины l , и при этом выполнены необходимые неравенства. Случай нечетного r выводится из следствия 1. Имеют место Следствие 2. и Следствие 3. 
Cледствия 2 и 3 легко вывести из результатов статьи [19; стр. 270- 272, п. 3.1] и формулы Стирлинга. 

В работе изучается длина минимальных проверяющих тестов относительно источников неисправностей, вызывающих произвольные константные неисправности на входах схемы счетчика четности порядка n , которая заключается в замене константами переменных булевой функции счетчика. Приводится обзор работ, в которых строились счетчики четности. Рассматриваются 5 различных источников неисправностей: допускающий замену не более r переменных (U r), допускающий всевозможные константные неисправности (U п), допускающий замену четного числа переменных (U ч), допускающий замену нечетного числа переменных (U н) и допускающий локальные константные неисправности (U л). Формулируются и доказываются две леммы-критерия проверяющего текста. Представлены доказательства теоремы о минимальном проверяющем тесте для каждого источника неисправностей. Формулируются 3 Следствия из доказательств теорем.