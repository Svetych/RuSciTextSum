Прогнозирование периодических сверхсобытий автоматами 

1. Введение
Процесс прогнозирования удобно рассматривать как альтернативную игру двух игроков. Имеется некоторое сверхсобытие L в алфавите Ek = {0, 1, . . . , k-1}, и оба игрока его знают. Игра идет во времени, и каждый такт каждый игрок делает по одному ходу, причем в каждый момент времени первым ход делает первый игрок, а затем ходит второй игрок. Игра, вообще говоря, идет бесконечно долго. В начальный (первый) момент времени первый игрок, представляющий собой прогнозирующее устройство, называет некоторый символ a(1) из Ek , стараясь предугадать символ, который будет назван вторым игроком. Затем ход делает второй игрок и выдает свой символ b(1) из алфавита Ek так, чтобы хотя бы одно сверхслово из сверхсобытия L начиналось на символ b(1), при этом второй игрок уже знает ход первого игрока. Пусть прошло t тактов времени, и за это время первый игрок сделал t ходов, которые образуют слово at = a(1) . . . a(t), и второй игрок сделал t ходов, которые образуют слово bt = b(1) . . . b(t). В (t + 1)-й момент времени первый игрок выбирает символ a(t + 1). После этого второй игрок выбирает символ b(t + 1) так, чтобы в сверхсобытии L нашлось сверхслово, начинающееся на слово bt . Если оказывается, что b(t + 1) = a(t + 1), то говорят, что произошло угадывание. Пусть за t тактов произошло dt угадываний. Задача первого игрока увеличивать число угадываний dt , а задача второго игрока уменьшать это значение. Если, начиная с некоторого момента времени первый игрок всегда правильно предугадывает ход второго игрока, то считается, что первый игрок победил, и прогнозирующее устройство построено, в противном случае побеждает второй игрок, который доказывает, что прогнозирующее устройство для сверхсобытия L построить нельзя.
В качестве прогнозирующего устройства у нас будет выступать конечный автомат. Будем говорить, что автомат прогнозирует сверхсобытие L, если для каждого входного сверхслова из этого множества автомат с некоторого момента времени начинает на своем выходе предугадывать значение входного слова в следующий момент. Множество сверхслов прогнозируемо, если существует прогнозирующий его автомат. Показано, что прогнозируемы только множества, состоящие из периодических сверхслов. Под сложностью прогнозирующего автомата понимается число его состояний. Для произвольного прогнозируемого множества получен порядок сложности прогнозирующего его автомата. 
2. Основные понятия и формулировка результатов 
Пусть Ek = {0, 1, . . . , k - 1} - конечный алфавит. Через Ek∗ и Ek∞ обозначим соответственно множество всех слов конечной длины и множество всех сверхслов в алфавите Ek .
Если a — сверхслово в алфавите Ek , t — натуральное число, то через a ] обозначим префикс длины t сверхслова a. 
В соответствии с [2] будем рассматривать конечные автоматы.
Расширим функции. 
Будем говорить, что инициальный автомат V (q0 ) прогнозирует множество сверхслов, если для любого сверхслова a из A существует такое натуральное число N , что для любого t > N выполняется условие.
Через G (A) обозначим множество всех конечных инициальных автоматов, прогнозирующих множество сверхслов A. 
Справедливы следующие теоремы. Теорема 1. Множество сверхслов A, , прогнозируемо тогда и только тогда, когда оно состоит из периодических сверхслов с ограниченным периодом. Теорема 2. Если A, — прогнозируемо, то выполняется условие. 
3. Нижние оценки сложности прогнозирующего
автомата
Оценим снизу количество состояний прогнозирующего автомата. Лемма 1 (Нижняя оценка). Если A, — некоторое множество периодических сверхслов, то выполняется условие. Лемма доказана. Лемма 2 (Нижняя оценка). Если A — некоторое множество периодических сверхслов, то выполняется условие. Получаем утверждение леммы.
Легко видеть, что лемма 1 является следствием леммы 2. 
4. Верхняя оценка сложности прогнозирующего
автомата Лемма 3. Лемма доказана. Лемма 4 (Верхняя оценка). Если A — некоторое множество периодических сверхслов, то выполнено условие. Лемма доказана.
В доказательстве леммы 4 содержится оптимальный по порядку метод построения прогнозирующего автомата для произвольного прогнозируемого множества периодических сверхслов. Суть алгоритма в следующем. В качестве алфавита состояний выбираем hT(A)i — множество всех циклических сдвигов периодических частей сверхслов из A. Из состояния q по x(t) переходим в такое состояние q 0 , что слова имеют общий префикс наибольшей длины, или, что то же самое, слово, полученное приписыванием к букве x(t) слева достаточное количество раз слова q, имеет общий суффикс наибольшей длины со словом, полученным приписыванием к слову q 0 слева достаточное количество раз слова q 0 . Множество всех таких q 0 обозначаем A(x(t), q). Если x(t) = q(1), то q 0 представляет собой циклический сдвиг влево слова q. Выходное значение y(t) полагаем равным q 0 (1). Пример. Построить прогнозирующий автомат со вход-выходным алфавитом {0, 1} для множества сверхслов A.
Решение. Q(A) = hT(A)i = {0, 01, 10, 001, 010, 100}. Значения для A (q(1), q) определяются однозначно и равны {s(q)}. Значения для A(q(1), q) определены в таблице 1. На рисунке 1 приведена диаграмма Мура автомата, построенного по указанному методу. Пунктиром обозначены переходы из q по q(1), а сплошными линиями — по q(1). Тем самым переходы по сплошным линиям образуют циклы, по которым будут ходить слова из A, после того как выйдут на свои циклы. Таких циклов 3: {0}, {01, 10} и {001, 010, 100}. Пунктирные переходы помогают входным словам найти свои циклы. Поскольку, как мы показали в лемме 1, наличие сплошных переходов абсолютно необходимо, то сокращение числа состояний прогнозирующего автомата возможно только за счет сокращения пунктирных переходов. В данном случае оказывается, что автомат можно минимизировать. Полученный после минимизации автомат изображен на рисунке 2. Количество его состояний равно четырем, что совпадает с нижней оценкой из леммы 2 kAk = max{kAk0 , kAk1 } = max{4, 2} = 4. 
5. Критерий прогнозируемости и порядок сложности прогнозирующего автомата
Докажем теорему 1.
Необходимость. Пусть A прогнозируемо. Тогда сверхслово x(N +1)x(N +2) . . . можно рассматривать, как генерируемое конечным автономным автоматом. В самом деле, пусть q 0 — состояние автомата V (q0 ) после N тактов. Возьмем автомат V (q 0 ) и подадим на его вход через задержку с начальным состоянием x(N ) его собственный выход. Получаем автономный автомат, который на выходе будет выдавать сверхслово x(N +1)x(N +2) . . .. Откуда согласно теореме 16 из [4] это слово будет периодическим. Следовательно, x также периодично. Поскольку можно считать, что вход автономного автомата периодическое слово с длиной периода 1, то согласно теореме 16 из [4] длина периода сверхслова x не больше |Q|.
Достаточность. Пусть A состоит из периодических сверхслов с ограниченным периодом. Тогда по лемме 4 существует прогнозирующий его автомат с количеством состояний, не превосходящим |hT(A)i|.
Теорема 1 доказана.
Теорема 2 является простым следствием лемм 2, 4 и теоремы 1.

Процесс прогнозирования рассматривают как альтернативную бесконечную игру двух игроков. Имеется сверхсобытие, которое знают игроки. Первый игрок, представляющий прогнозирующее устройство, называет символ, стараясь предугадать символ, названный вторым игроком. Второй игрок и выдает символ, чтобы хотя бы одно сверхслово из сверхсобытия начиналось на него. Вводится понятие прогнозирующего автомата, который для каждого поданного ему на вход сверхслова из заданного множества, начиная с некоторого шага в каждый момент t выдает значение входного слова в момент t + 1, то есть предугадывает входное сверхслово. Получен критерий прогнозируемости множеств сверхслов. Приведен наилучший по порядку метод построения прогнозирующего автомата для произвольного прогнозируемого множества сверхслов.