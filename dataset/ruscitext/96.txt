The Building of Relations in Hybrid Ontological Network for Solving Testing Tasks 

1. Смешанная онтологическая сеть 
Находящиеся в открытом доступе онтологии на русском языке не предполагают обработки связей, имеющих вероятностную природу, поскольку в этих онтологиях не предусмотрено указание веса конкретного триплета. Соответственно, такие онтологии не могут быть расширены связями, накопленными при статистической обработке текстовых корпусов, и их слияние с другими источниками информации затруднено расхождениями между разными источниками информации. Добавление в триплет значения его достоверности (веса) позволяет решить эти проблемы. 
Будем называть онтологию смешанной, если:
1. она составлена из нескольких независимых источников;
2. содержит триплеты (связи), накопленные статистической обработкой текстовых корпусов;
3. каждый триплет характеризуется типом и весом. 
Основными свойствами такой онтологии являются избыточность и высокая связность. Избыточность возникает в связи с дублированием большей части онтологических связей в различных использованных источниках, а высокая связность возникает при включении связей, полученных при статистической обработке текстов.
Если представить такую онтологию в виде сети, с узлами-понятиями и рёбрами-связями, то смешанная онтологическая сеть характеризуется большим количеством возможных путей между узлами сети, в том числе — через несколько промежуточных узлов. Использование статистических данных гарантирует, что даже не представленные в использованных источниках информации понятия, к примеру, редкие слова или названия, связаны с другими узлами онтологической сети достаточным количеством связей.
Общее количество узлов в сети 1 355 135 и сводная информация по типам связей смешанной онтологической сети приведена в таблице 1. 
Описанная структура смешанной онтологической сети позволяет устанавливать между узлами сети отношения разного рода, например — «синоним» или «значение атрибута». При этом, отношения характеризуются вычислимым уровнем достоверности, в диапазоне [0;1]. Другими словами, установленное отношение по сути является классификатором, оценивающим наличие между сущностями реального мира отношения на основании имеющейся в сети информации. 
2. Простой алгоритм построения отношений 
Автоматическое построение отношений основано на обучении на примерах. В качестве примеров использовалась представленная Организаторами тестирования обучающая выборка синонимов, гипернимов и гипонимов. Рассмотрим построение отношений на примере синонимов. Часть слов, являющихся синонимами, связаны связью №6 «синонимы из Викисловаря». Однако, связью №6 связаны только 19 691 слово, и для остальных слов степень синонимичности необходимо вычислять. Для оценки степени синонимичности (взаимозаменяемости) двух слов будем использовать структуру связей обоих исследуемых слов. В качестве примера возьмём согласованные биграммы — синонимичные слова должны иметь схожую структуру связей с другими словами (таблица 2). 
Сравнение связей двух слов по одному типу связи даёт возможность вычислить метрику подобия, например, косинусную меру. Соответственно, для каждой пары слов доступен вектор из метрик подобия по каждому из типов связи в онтологической сети. Подстраивая коэффициенты, с которыми учитывается вес каждого из каналов, можно создать классификатор, дающий оценку степени наличия между двумя словами семантического отношения (синоним, гиперним, гипоним). Для отношения синоним часть вектора коэффициентов приведена в таблице 3. Обратные связи обозначаются знаком минус. 
Как видно из таблицы 3, основное решение по степени синонимичности (взаимозаменяемости) слов принимается на основе имеющейся онтологической информации. Статистическая информация оказывает на два порядка меньшее влияние на оценку. Однако, для редких слов, не представленных в Викисловаре и других источниках онтологической информации, статистические типы связей являются единственными доступными для таких слов.
Общий алгоритм построения классификатора, реализующего произвольный тип связи между словами:
1. Сформировать обучающую выборку в виде троек «слово1 — слово2 — значение», где значение — это сила связи между словами;
2. Для каждой тройки вычислить метрики подобия между словами для каждого типа связи;
3. Скорректировать коэффициенты каждого типа связи. 
Можно привести такую аналогию — из слова1 мы последовательно переходим по конкретному типу связи ко всем узлам, к которым есть связь, после чего, по этому же типу связи возвращаемся обратно, но в обратном направлении (обратная связь). Если существуют такие узлы, у которых удельная доля связи к слову1 приблизительно равна удельной доле связи к слову2, то слова сильно связаны и вычисленная метрика будет иметь относительно высокое значение. Общее количество типов связей — 64, длина вектора коэффициентов — 64 элемента, соответственно, число настраиваемых параметров — тоже 64.
Описанный простой алгоритм оценки синонимичности/взаимозаменяемости слов называется в рамках смешанной онтологической сети отношением подобия. При программной реализации алгоритм обладает высокой скоростью вычисления. 
3. Расширенный алгоритм построения отношений 
Расширим алгоритм вычисления метрики подобия, допустив, что при переходе от слова1 по конкретному типу связи, мы сможем вернуться к слову2 по любому типу связи, а не только по обратной. Такое решение увеличивает число настраиваемых параметров до 64^2 = 4096 элементов.
Для принятия решения по наличию отношений между двумя словами использовалась библиотека на языке R, реализующая бинарную классификацию методом построения леса решающих деревьев. Обучающая выборка для классификатора готовилась следующим образом:
1. Позитивные примеры по соответствующему отношению (синоним, гиперним и гипоним), использовались из обучающей выборки, представленной Организаторами;
2. Негативные примеры генерировались также по обучающей выборке Организаторов, методом выбора случайных пар слов;
3. Значение каждого из 4096 параметров вычислялось как сумма по всем связям произведений удельного веса связи от слова1 на удельный вес
связи от слова2.
В результате были построены три классификатора — синонимы, гипернимы и гипонимы. 
4. Классификатор семантической близости 
Классификатор семантической близости двух слов был подготовлен специально для участия в состязании «Семантическая близость — 2015», проходившего в рамках форума «Диалог-21». Классификатор построен как логистическая регрессия от значений факторов, приведённых в таблице 4. 
Word2Vec обучался на относительно большой (16 Гб) выборке логов поисковых запросов пользователей к поисковому движку. Общее количество векторизованных слов — четыре миллиона, включая не только все словоформы всех распространённых слов русского языка, но и варианты слов с опечатками, а также многие слова из других языков. 
Сами логи поисковых запросов не могут быть представлены в публичном доступе, но обученные базы Word2Vec с некоторыми утилитами можно получить по адресу http://servponomarev.livejournal.com/7667.html 
5. Классификатор ассоциативных связей 
Классификатор ассоциативных связей также был подготовлен для участия в состязании «Семантическая близость — 2015». Классификатор построен как лес деревьев решений, и классификация осуществляется по факторам, приведённым в таблице 5. Будем называть совместностью по первому слову долю словосочетаний, в которых присутствуют оба слова, в словосочетаниях, в которых присутствует только первое слово. 
Полученный набор факторов был дополнен весовыми коэффициентами связей между парой понятий-узлов онтологической сети. Факторы использовались для генерации обучающей выборки на позитивных, и автоматически сгенерированных негативных примерах. 
6. Анализ результатов тестирования 
6.1. Тестирование на корреляцию с человеческими оценками 
Результат 0,6641, 6-е место.
К сожалению, сильная ограниченность обучающей выборки по данной дорожке (65 позиций всего), не позволила использовать методы машинного обучения, а логистическая регрессия не показала приемлемых результатов. Другим фактором, снизившим результаты тестирования, является принцип построения системы только на связях между словами, без разбора внутренней структуры слова. В тестовой выборке присутствовали синтетические слова, например «киновидеотеатр», которые, как показали исследования, ни разу не встречались даже при статистической обработке больших текстовых корпусов. 
6.2. Тестирование на степень семантической близости 
Результат 0,9209, 3-е место.
Если проанализировать таблицу 4 видно, что наибольший вклад в оценку степени семантической близости вносит классификатор синонимов и Word2Vec. При этом, классификатор синонимов немного опережает Word2Vec по качеству работы. Относительно высокие результаты в тестировании получены благодаря комбинации двух методик — оценки синонимичности слов по онтологической сети — что имеет эффект на давно известных и распространённых словах и использования Word2Vec, который, будучи обученным за месяц до конкурса, содержал в себе новые слова и отношения между ними. Негативный эффект от отсутствия в системе разбора состава слова сохранился, поскольку для Word2Vec такие слова как «адыгеец» и «адыгейка» являются совершенно разными, а частота их появления в поисковых запросах — близка к нулю, что не даёт возможности установить между словами связь. 
6.3. Тестирование ассоциаций (Русский Ассоциативный Тезаурус) 
Результат 0,9277, 3-е место.
При анализе обучающей выборки, представленной Организаторами, стало заметно, что многие ассоциации представлены в виде нескольких слов. Типичная ассоциация из нескольких слов — это продолжение поговорки («слово не воробей») или широко известного названия художественного произведения («белое солнце пустыни»). Таким образом, для предсказания ассоциаций необходимо иметь достаточно подробный перечень поговорок, афоризмов, названий и прочих культурных артефактов. Для этой цели использовались названия статей Википедии и логи поисковых запросов. В обоих источниках информации проверялось, существует или нет словосочетание, составленное из исследуемых слов/словосочетаний и если существует — вычислялась его удельная доля среди всех словосочетаний. Данный подход хорошо работает на названиях фильмов и книг, поскольку такие названия широко представлены в Википедии и логах поисковых запросов, но указанные источники бедны поговорками и афоризмами, что и привело к относительно невысоким результатам тестирования. 
6.4. Тестирование ассоциаций (Sociation.org) 
Результат 0,9849, 1-е место.
Структура тестовых данных из Sociation.org такова, что комбинация применявшихся подходов и источников информации оказалась эффективной. Метод вычисления подобия, описанный в пункте 2, по сути своей вычисляет степень ассоциированности пары слов, учитывая подобие структуры связей этих слов в онтологической сети. Word2Vec также вычисляет степень ассоциирован-ности слов по их контекстам в поисковых запросах. При этом, Word2Vec обеспечил отработку новых слов, появившихся недавно, например «аватар» и «эйва».

В данной статье описываются принципы построения таких отношений, как “синоним”, “гипероним” и “гипонимичность” между словами и словосочетаниями методом обучения на примерах. В качестве базы знаний система использует ряд онтологической информации о словах и выражениях из источников открытого доступа и статистическую информацию, собранную путем обработки больших текстовых массивов.
База знаний представлена в виде смешанной онтологической сети — ориентированного графа, где вершинами являются слова и выражения, а ребрами - связи между словами. Кроме того, каждая связь между двумя словами или выражениями ориентирована, типизирована и взвешена. Тип ссылки характеризует источник информации, из которого была извлечена эта ссылка, и ее тип (например, синоним из Викисловаря). Вес ссылки определяется надежным источником информации. Все ссылки, полученные из словарей и онтологических баз, имеют вес, равный единице. Ссылки, собранные путем обработки текстовых корпусов, имеют вес, равный частоте соответствующих согласованных биграмм (например, биграмма прилагательное + существительное). 
Структура смешанной онтологической сети характеризуется большим количеством связей между вершинами сети. Помимо прямых связей, соединяющих две конкретные вершины сети, могут использоваться составные связи, проходящие через промежуточные вершины, что приводит к кардинальному увеличению числа возможных путей между вершинами. 
Вот алгоритм обучения, который позволяет устанавливать в смешанной онтологической сети связи между словами и элементами в терминах комбинаций взвешенных путей между вершинами сети.